<div class="container" *ngIf="authUser">

  <form class="mb-3" #profileSettingsForm="ngForm">
    <div>
      <h3 class="mt-4 mb-4">Profile settings</h3>

      <mat-form-field class="mt-3 w-100">
        <input type="text" matInput placeholder="Email" [value]="authUser.email" disabled>
      </mat-form-field>

      <mat-form-field class="mt-3 w-100">
        <input type="text" matInput placeholder="Role" [value]="authUser.role" disabled>
      </mat-form-field>

      <mat-form-field class="mt-3 w-100">
        <input type="text" matInput placeholder="Username" [(ngModel)]="newUserName" name="newUserName" required>
      </mat-form-field>

      <mat-form-field class="w-100 mt-3">
        <input matInput [matDatepicker]="picker" placeholder="Birthday" [(ngModel)]="newBirthday" name="bday" required>
        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
        <mat-datepicker #picker></mat-datepicker>
        <mat-hint>MM/DD/YYYY</mat-hint>
      </mat-form-field>

      <button mat-raised-button [disabled]="profileSettingsForm.invalid" color="primary" type="submit" class="mt-3"
        (click)="onProfileUpdate(profileSettingsForm)">Update profile</button>

    </div>
  </form>

  <mat-divider></mat-divider>

  <form #changePassword="ngForm" class="d-flex flex-column">
    <mat-form-field hintLabel="Should be at least 8 characters long" class="mt-3">
      <input type="password" matInput placeholder="Password" ngModel name="password" required #pwInput="ngModel">
      <mat-hint align="end">{{ pwInput.value?.length }} / 8</mat-hint>
    </mat-form-field>

    <mat-form-field hintLabel="Should be at least 8 characters long" class="mt-3">
      <input type="password" matInput placeholder="Password again" ngModel name="passwordAgain" required
        #pwInputAgain="ngModel">
      <mat-hint align="end">{{ pwInputAgain.value?.length }} / 8</mat-hint>
    </mat-form-field>

    <div class="mt-3">
      <button mat-raised-button color="primary" type="submit" [disabled]="changePassword.invalid"
        (click)="onPasswordUpdate(changePassword)">Change password</button>
    </div>
  </form>

</div>